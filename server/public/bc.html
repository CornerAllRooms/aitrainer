<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Trainer - Advanced Body Composition</title>
    <style>
        :root {
            --primary: #004b49;
            --secondary: #00F0FF;
            --accent: #FFFFFF;
            --text: #333333;
            --warning: #FFC107;
            --danger: #F44336;
            --success: #4CAF50;
            --muscle: #3F51B5;
            --fat: #FF5722;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        body {
            background-color: var(--accent);
            color: var(--text);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .dashboard {
            max-width: 900px;
            margin: 0 auto;
        }
        
        /* Composition Section */
        .composition-section {
            background-color: var(--accent);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .section-title {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            text-align: center;
        }
        
        /* Silhouette Container */
        .silhouette-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
        }
        
        /* Input Grid */
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-group label {
            font-weight: 600;
            color: var(--primary);
        }
        
        .form-control {
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        /* Goal Type Selector */
        .goal-type {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .goal-btn {
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            border: 2px solid var(--primary);
            background-color: var(--accent);
            color: var(--primary);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .goal-btn.active {
            background-color: var(--primary);
            color: var(--accent);
        }
        
        /* Progress Visualization */
        .progress-visualization {
            margin-top: 2rem;
        }
        
        .progress-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .metric-card {
            background-color: var(--light-bg);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }
        
        .metric-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0.5rem 0;
        }
        
        .metric-label {
            color: var(--text);
            opacity: 0.8;
            font-size: 0.9rem;
        }
        
        /* Composition Bars */
        .composition-bars {
            margin-top: 2rem;
        }
        
        .bar-container {
            margin-bottom: 1rem;
        }
        
        .bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.3rem;
        }
        
        .bar {
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            background-color: #f0f0f0;
            position: relative;
        }
        
        .bar-fill {
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            transition: width 0.5s ease;
        }
        
        .muscle-fill {
            background-color: var(--muscle);
            z-index: 2;
        }
        
        .fat-fill {
            background-color: var(--fat);
            z-index: 1;
        }
        
        /* Deviation Analysis */
        .deviation-analysis {
            background-color: var(--light-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        .deviation-title {
            font-weight: bold;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .deviation-scale {
            height: 10px;
            background: linear-gradient(to right, var(--danger), var(--warning), var(--success));
            border-radius: 5px;
            margin: 1rem 0;
            position: relative;
        }
        
        .deviation-marker {
            position: absolute;
            top: -5px;
            width: 2px;
            height: 20px;
            background-color: var(--text);
        }
        
        .deviation-labels {
            display: flex;
            justify-content: space-between;
        }
        
        /* Statistics Graph */
        .stats-section {
            background-color: var(--accent);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 2rem;
        }
        
        .stats-graph {
            display: flex;
            justify-content: space-between;
            gap: 0.5rem;
            height: 100px;
            align-items: flex-end;
        }
        
        .stat-bar {
            flex: 1;
            background-color: var(--primary);
            border-radius: 5px 5px 0 0;
            transition: all 0.3s ease;
            position: relative;
            min-width: 30px;
        }
        
        .stat-bar::after {
            content: attr(data-day);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: var(--text);
        }
        
        .stat-bar.missed-1 {
            background-color: var(--warning);
            height: 60%;
        }
        
        .stat-bar.missed-2 {
            background-color: var(--danger);
            height: 30%;
        }
        
        .stat-bar.missed-week {
            background-color: var(--danger);
            height: 10%;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .input-grid {
                grid-template-columns: 1fr;
            }
            
            .progress-metrics {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Body Composition Section -->
        <section class="composition-section">
            <h2 class="section-title">Body Composition Analysis</h2>
            
            <!-- Silhouette Container - Add your SVG here -->
            <div class="silhouette-container" id="silhouetteContainer">
                <!-- Your SVG will be inserted here -->
            </div>
            
            <!-- Input Grid -->
            <div class="input-grid">
                <div class="form-group">
                    <label for="height">Height (cm)</label>
                    <input type="number" id="height" class="form-control" min="100" max="250" value="175">
                </div>
                
                <div class="form-group">
                    <label for="weight">Current Weight (kg)</label>
                    <input type="number" id="weight" class="form-control" min="30" max="200" value="75">
                </div>
                
                <div class="form-group">
                    <label for="fatPercent">Body Fat Percentage</label>
                    <input type="number" id="fatPercent" class="form-control" min="5" max="50" value="20">
                </div>
                
                <div class="form-group">
                    <label for="goalWeight">Goal Weight (kg)</label>
                    <input type="number" id="goalWeight" class="form-control" min="30" max="200" value="70">
                </div>
                
                <div class="form-group">
                    <label for="goalFatPercent">Goal Fat Percentage</label>
                    <input type="number" id="goalFatPercent" class="form-control" min="5" max="50" value="15">
                </div>
            </div>
            
            <!-- Goal Type Selector -->
            <div class="goal-type">
                <button class="goal-btn active" id="goalWeightBtn">Weight Focus</button>
                <button class="goal-btn" id="goalMuscleBtn">Muscle Focus</button>
                <button class="goal-btn" id="goalFatBtn">Fat Loss Focus</button>
            </div>
            
            <!-- Progress Visualization -->
            <div class="progress-visualization">
                <div class="progress-metrics">
                    <div class="metric-card">
                        <div class="metric-label">Current Fat Mass</div>
                        <div class="metric-value" id="currentFat">15.0 kg</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Current Muscle Mass</div>
                        <div class="metric-value" id="currentMuscle">60.0 kg</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Goal Deviation</div>
                        <div class="metric-value" id="deviationValue">12.5%</div>
                    </div>
                </div>
                
                <!-- Composition Bars -->
                <div class="composition-bars">
                    <div class="bar-container">
                        <div class="bar-label">
                            <span>Current Composition</span>
                            <span id="currentCompText">Fat: 20% | Muscle: 80%</span>
                        </div>
                        <div class="bar">
                            <div class="bar-fill muscle-fill" id="currentMuscleBar" style="width: 80%"></div>
                            <div class="bar-fill fat-fill" id="currentFatBar" style="width: 20%"></div>
                        </div>
                    </div>
                    
                    <div class="bar-container">
                        <div class="bar-label">
                            <span>Goal Composition</span>
                            <span id="goalCompText">Fat: 15% | Muscle: 85%</span>
                        </div>
                        <div class="bar">
                            <div class="bar-fill muscle-fill" id="goalMuscleBar" style="width: 85%"></div>
                            <div class="bar-fill fat-fill" id="goalFatBar" style="width: 15%"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Deviation Analysis -->
                <div class="deviation-analysis">
                    <div class="deviation-title">Goal Deviation Analysis</div>
                    <p id="deviationText">You are 12.5% away from your target body composition.</p>
                    
                    <div class="deviation-scale">
                        <div class="deviation-marker" id="deviationMarker" style="left: 62.5%"></div>
                    </div>
                    
                    <div class="deviation-labels">
                        <span>Far from goal</span>
                        <span>Moderate</span>
                        <span>On track</span>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Statistics Section -->
        <section class="stats-section">
            <h2 class="section-title">Weekly Progress Tracking</h2>
            <div class="stats-graph">
                <div class="stat-bar" style="height: 100%" data-day="Mon"></div>
                <div class="stat-bar" style="height: 100%" data-day="Tue"></div>
                <div class="stat-bar" style="height: 100%" data-day="Wed"></div>
                <div class="stat-bar missed-1" data-day="Thu"></div>
                <div class="stat-bar missed-2" data-day="Fri"></div>
                <div class="stat-bar" style="height: 100%" data-day="Sat"></div>
                <div class="stat-bar missed-week" data-day="Sun"></div>
            </div>
        </section>
    </div>
    
    <script>
        // DOM Elements
        const heightInput = document.getElementById('height');
        const weightInput = document.getElementById('weight');
        const fatPercentInput = document.getElementById('fatPercent');
        const goalWeightInput = document.getElementById('goalWeight');
        const goalFatPercentInput = document.getElementById('goalFatPercent');
        const goalWeightBtn = document.getElementById('goalWeightBtn');
        const goalMuscleBtn = document.getElementById('goalMuscleBtn');
        const goalFatBtn = document.getElementById('goalFatBtn');
        
        // Output Elements
        const currentFatDisplay = document.getElementById('currentFat');
        const currentMuscleDisplay = document.getElementById('currentMuscle');
        const deviationValue = document.getElementById('deviationValue');
        const currentCompText = document.getElementById('currentCompText');
        const goalCompText = document.getElementById('goalCompText');
        const deviationText = document.getElementById('deviationText');
        const deviationMarker = document.getElementById('deviationMarker');
        
        // Composition Bars
        const currentMuscleBar = document.getElementById('currentMuscleBar');
        const currentFatBar = document.getElementById('currentFatBar');
        const goalMuscleBar = document.getElementById('goalMuscleBar');
        const goalFatBar = document.getElementById('goalFatBar');
        
        // Goal type
        let goalType = 'weight'; // 'weight', 'muscle', or 'fat'
        
        // Event Listeners
        [heightInput, weightInput, fatPercentInput, goalWeightInput, goalFatPercentInput].forEach(input => {
            input.addEventListener('input', calculateComposition);
        });
        
        goalWeightBtn.addEventListener('click', () => {
            goalType = 'weight';
            updateGoalTypeButtons();
            calculateComposition();
        });
        
        goalMuscleBtn.addEventListener('click', () => {
            goalType = 'muscle';
            updateGoalTypeButtons();
            calculateComposition();
        });
        
        goalFatBtn.addEventListener('click', () => {
            goalType = 'fat';
            updateGoalTypeButtons();
            calculateComposition();
        });
        
        // Functions
        function updateGoalTypeButtons() {
            goalWeightBtn.classList.toggle('active', goalType === 'weight');
            goalMuscleBtn.classList.toggle('active', goalType === 'muscle');
            goalFatBtn.classList.toggle('active', goalType === 'fat');
        }
        
        function calculateComposition() {
            // Get input values
            const height = parseFloat(heightInput.value);
            const weight = parseFloat(weightInput.value);
            const fatPercent = parseFloat(fatPercentInput.value);
            const goalWeight = parseFloat(goalWeightInput.value);
            const goalFatPercent = parseFloat(goalFatPercentInput.value);
            
            // Validate inputs
            if (isNaN(height) || isNaN(weight) || isNaN(fatPercent) || isNaN(goalWeight) || isNaN(goalFatPercent)) {
                return;
            }
            
            // Calculate current composition
            const currentFatMass = (weight * fatPercent) / 100;
            const currentMuscleMass = weight - currentFatMass;
            
            // Calculate goal composition
            const goalFatMass = (goalWeight * goalFatPercent) / 100;
            const goalMuscleMass = goalWeight - goalFatMass;
            
            // Calculate deviations based on goal type
            let deviation;
            let deviationPercentage;
            
            if (goalType === 'weight') {
                // Weight-focused deviation
                deviation = Math.abs(weight - goalWeight);
                deviationPercentage = (deviation / goalWeight) * 100;
            } else if (goalType === 'muscle') {
                // Muscle-focused deviation
                deviation = Math.abs(currentMuscleMass - goalMuscleMass);
                deviationPercentage = (deviation / goalMuscleMass) * 100;
            } else {
                // Fat-focused deviation
                deviation = Math.abs(currentFatMass - goalFatMass);
                deviationPercentage = (deviation / goalFatMass) * 100;
            }
            
            // Update displays
            currentFatDisplay.textContent = `${currentFatMass.toFixed(1)} kg`;
            currentMuscleDisplay.textContent = `${currentMuscleMass.toFixed(1)} kg`;
            deviationValue.textContent = `${deviationPercentage.toFixed(1)}%`;
            
            // Update composition bars
            const currentMusclePercent = ((weight - currentFatMass) / weight) * 100;
            const currentFatPercent = 100 - currentMusclePercent;
            const goalMusclePercent = 100 - goalFatPercent;
            
            currentMuscleBar.style.width = `${currentMusclePercent}%`;
            currentFatBar.style.width = `${currentFatPercent}%`;
            goalMuscleBar.style.width = `${goalMusclePercent}%`;
            goalFatBar.style.width = `${goalFatPercent}%`;
            
            currentCompText.textContent = `Fat: ${currentFatPercent.toFixed(1)}% | Muscle: ${currentMusclePercent.toFixed(1)}%`;
            goalCompText.textContent = `Fat: ${goalFatPercent.toFixed(1)}% | Muscle: ${goalMusclePercent.toFixed(1)}%`;
            
            // Update deviation analysis
            deviationText.textContent = getDeviationText(deviationPercentage);
            updateDeviationMarker(deviationPercentage);
        }
        
        function getDeviationText(percentage) {
            if (percentage > 30) {
                return `You are ${percentage.toFixed(1)}% away from your target (significant deviation). Focus on consistent training and nutrition.`;
            } else if (percentage > 15) {
                return `You are ${percentage.toFixed(1)}% away from your target (moderate deviation). Keep working toward your goal.`;
            } else if (percentage > 5) {
                return `You are ${percentage.toFixed(1)}% away from your target (close to goal). Maintain your current routine.`;
            } else {
                return `You are ${percentage.toFixed(1)}% away from your target (almost there!). Consider setting new goals.`;
            }
        }
        
        function updateDeviationMarker(percentage) {
            // Map percentage to position on scale (0-100% to 0-100% left position)
            // Higher percentage means further from goal (left side)
            const markerPosition = Math.min(100, Math.max(0, percentage));
            deviationMarker.style.left = `${100 - markerPosition}%`;
            
            // Change marker color based on position
            if (percentage > 30) {
                deviationMarker.style.backgroundColor = 'var(--danger)';
            } else if (percentage > 15) {
                deviationMarker.style.backgroundColor = 'var(--warning)';
            } else {
                deviationMarker.style.backgroundColor = 'var(--success)';
            }
        }
        
        // Initialize
        calculateComposition();
        
        // Activity Tracking (simulated)
        function updateActivityGraph() {
            const days = document.querySelectorAll('.stat-bar');
            days.forEach(day => {
                day.className = 'stat-bar';
                day.style.height = '100%';
                
                if (Math.random() > 0.7) {
                    day.classList.add('missed-1');
                    day.style.height = '60%';
                }
                if (Math.random() > 0.9) {
                    day.classList.add('missed-2');
                    day.style.height = '30%';
                }
                if (Math.random() > 0.95) {
                    day.classList.add('missed-week');
                    day.style.height = '10%';
                }
            });
        }
        
        updateActivityGraph();
    </script>
</body>
</html>